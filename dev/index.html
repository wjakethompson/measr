<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Estimate Diagnostic Classification Models with Stan • measr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" sizes="any" href="favicon.ico">
<link rel="manifest" href="site.webmanifest">
<!-- katex math --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script><script src="katex-auto.js"></script><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/Open_Sans-0.4.10/font.css" rel="stylesheet">
<link href="deps/Fira_Code-0.4.10/font.css" rel="stylesheet">
<link href="deps/Playfair_Display-0.4.10/font.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Estimate Diagnostic Classification Models with Stan">
<meta name="description" content="Estimate diagnostic classification models (also called cognitive diagnostic models) with Stan. Diagnostic classification models are confirmatory latent class models, as described by Rupp et al. (2010, ISBN: 978-1-60623-527-0). Automatically generate Stan code for the general loglinear cognitive diagnostic diagnostic model proposed by Henson et al. (2009) &lt;doi:10.1007/s11336-008-9089-5&gt; and other subtypes that introduce additional model constraints. Using the generated Stan code, estimate the model evaluate the model's performance using model fit indices, information criteria, and reliability metrics.">
<meta property="og:description" content="Estimate diagnostic classification models (also called cognitive diagnostic models) with Stan. Diagnostic classification models are confirmatory latent class models, as described by Rupp et al. (2010, ISBN: 978-1-60623-527-0). Automatically generate Stan code for the general loglinear cognitive diagnostic diagnostic model proposed by Henson et al. (2009) &lt;doi:10.1007/s11336-008-9089-5&gt; and other subtypes that introduce additional model constraints. Using the generated Stan code, estimate the model evaluate the model's performance using model fit indices, information criteria, and reliability metrics.">
<meta property="og:image" content="https://measr.info/reference/figures/card.png">
<meta property="og:image:alt" content="">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@wjakethompson">
<meta name="twitter:site" content="@atlas4learning">
<meta name="robots" content="noindex">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">measr</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/measr.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/paper.html">measr: Bayesian psychometric measurement using Stan</a></li>
    <li><a class="dropdown-item" href="articles/model-estimation.html">Estimating diagnostic classification models</a></li>
    <li><a class="dropdown-item" href="articles/model-evaluation.html">Evaluating diagnostic classification models</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Case Studies</h6></li>
    <li><a class="dropdown-item" href="articles/ecpe.html">Examination for the Certificate of Proficiency in English</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news">
<li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.wjakethompson.com/blog/measr/2024-02-measr-1.0.0/">Version 1.0.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.wjakethompson.com/blog/measr/2023-06-measr-0.3.1/">Version 0.3.1</a></li>
    <li><a class="external-link dropdown-item" href="https://www.wjakethompson.com/blog/measr/2023-04-measr-0.2.1/">Version 0.2.1</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="news/index.html">Changelog</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/wjakethompson/measr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="measr-">measr <a class="anchor" aria-label="anchor" href="#measr-"></a>
</h1>
</div>
<!-- badges: start -->

<p>Diagnostic classification models (DCMs) are a class of psychometric models that estimate respondent abilities as a profile of proficiency on a pre-defined set of skills, or attributes. Despite the utility of DCMs for providing fine-grained and actionable feedback with shorter assessments, they have are not widely used in applied settings, in part due to a lack of user-friendly software. Using <a href="https://www.r-project.org/" class="external-link">R</a> and <a href="https://mc-stan.org/" class="external-link">Stan</a>, measr (said: “measure”) simplifies the process of estimating and evaluating DCMs. Users can specify different DCM subtypes, define prior distributions, and estimate the model using the <a href="https://mc-stan.org/rstan/" class="external-link">rstan</a> or <a href="https://mc-stan.org/cmdstanr/" class="external-link">cmdstanr</a> interface to Stan. You can then easily examine model parameters, calculate model fit metrics, compare competing models, and evaluate the reliability of the attributes.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the released version of measr from <a href="https://cran.r-project.org/" class="external-link">CRAN</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"measr"</span><span class="op">)</span></span></code></pre></div>
<p>To install the development version of measr from <a href="https://github.com/wjakethompson/measr" class="external-link">GitHub</a> use:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"wjakethompson/measr"</span><span class="op">)</span></span></code></pre></div>
<p>Because measr is based on Stan, a C++ compiler is required. For Windows, the <a href="https://cran.r-project.org/bin/windows/Rtools/" class="external-link">Rtools program</a> comes with a C++ compiler. On Mac, it’s recommended that you install Xcode. For additional instructions and help setting up the compilers, see the <a href="https://github.com/stan-dev/rstan/wiki/RStan-Getting-Started" class="external-link">RStan installation help page</a>.</p>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>We can define a DCM using <code><a href="https://dcmstan.r-dcm.org/reference/dcm_specify.html" class="external-link">dcm_specify()</a></code>. This function requires a Q-matrix defining which attributes are measured by each item. We also identify any item identifier columns. Other arguments can be specified to customize the type of model to estimate (e.g., type of measurement or structural model; see <code>?dcmstan::dcm_specify()</code>). We can then estimate our specified DCM using <code><a href="reference/dcm_estimate.html">dcm_estimate()</a></code>. We supply our specification and our data set, along with any respondent identifiers. As with <code><a href="https://dcmstan.r-dcm.org/reference/dcm_specify.html" class="external-link">dcm_specify()</a></code>, other arguments can be specified to customize the model estimation process (e.g., estimation backend and method; see <code>?dcm_estimate()</code>).</p>
<p>To demonstrate measr’s functionality, example data sets are available in the <a href="https://dcmdata.r-dcm.org" class="external-link">dcmdata</a> package. Here we use the Examination of Certificate of Proficiency in English (ECPE; <a href="https://doi.org/10.1111/emip.12010" class="external-link">Templin &amp; Hoffman, 2013</a>) data (see <code><a href="https://dcmdata.r-dcm.org/reference/ecpe.html" class="external-link">?dcmdata::ecpe</a></code> for details). Note that by default, measr uses a full Markov chain Monte Carlo (MCMC) estimation with Stan, which can be time and computationally intensive. For a quicker estimation, we could use Stan’s optimizer instead of MCMC by adding <code>method = "optim"</code> to the function call. However, please note that some functionality will be lost when using the optimizer (e.g., the calculation of some model fit criteria requires the use of MCMC).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://measr.info">measr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">model_spec</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dcmstan.r-dcm.org/reference/dcm_specify.html" class="external-link">dcm_specify</a></span><span class="op">(</span><span class="fu">dcmdata</span><span class="fu">::</span><span class="va"><a href="https://dcmdata.r-dcm.org/reference/ecpe.html" class="external-link">ecpe_qmatrix</a></span>, identifier <span class="op">=</span> <span class="st">"item_id"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/dcm_estimate.html">dcm_estimate</a></span><span class="op">(</span>dcm_spec <span class="op">=</span> <span class="va">model_spec</span>,</span>
<span>                      data <span class="op">=</span> <span class="fu">dcmdata</span><span class="fu">::</span><span class="va"><a href="https://dcmdata.r-dcm.org/reference/ecpe.html" class="external-link">ecpe_data</a></span>, identifier <span class="op">=</span> <span class="st">"resp_id"</span>,</span>
<span>                      iter <span class="op">=</span> <span class="fl">1000</span>, warmup <span class="op">=</span> <span class="fl">200</span>, chains <span class="op">=</span> <span class="fl">2</span>, cores <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p>Once a model has been estimated, we can then add and evaluate model fit. This can done through absolute model fit, relative model fit (information criteria), or reliability indices. Model parameters, respondent classifications, and results of the model fit analyses can then be extracted using <code><a href="reference/measr_extract.html">measr_extract()</a></code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/model_evaluation.html">add_fit</a></span><span class="op">(</span><span class="va">model</span>, method <span class="op">=</span> <span class="st">"m2"</span><span class="op">)</span></span>
<span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/model_evaluation.html">add_criterion</a></span><span class="op">(</span><span class="va">model</span>, criterion <span class="op">=</span> <span class="st">"loo"</span><span class="op">)</span></span>
<span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/model_evaluation.html">add_reliability</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/measr_extract.html">measr_extract</a></span><span class="op">(</span><span class="va">model</span>, <span class="st">"m2"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 1 × 3</span></span>
<span><span class="co">#&gt;      m2    df     pval</span></span>
<span><span class="co">#&gt;   &lt;dbl&gt; &lt;int&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1  514.   325 1.17e-10</span></span></code></pre></div>
<hr>
<p>Contributions are welcome. To ensure a smooth process, please review the <a href="https://measr.info/dev/CONTRIBUTING.html">Contributing Guide</a>. Please note that the measr project is released with a <a href="https://measr.info/CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=measr" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/wjakethompson/measr/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/wjakethompson/measr/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing measr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://wjakethompson.com" class="external-link">W. Jake Thompson</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-7339-0300" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.repostatus.org/#active" class="external-link"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active – The project has reached a stable, usable state and is being actively developed."></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html" class="external-link"><img src="https://img.shields.io/badge/lifecycle-stable-brightgreen.svg" alt="lifecycle"></a></li>
<li><a href="https://cran.r-project.org/package=measr" class="external-link"><img src="https://www.r-pkg.org/badges/version/measr" alt="R package version"></a></li>
<li><a href="https://cran.r-project.org/package=measr" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/grand-total/measr" alt="Package downloads"></a></li>
<li><a href="https://doi.org/10.21105/joss.05742" class="external-link"><img src="https://joss.theoj.org/papers/10.21105/joss.05742/status.svg" alt="DOI"></a></li>
<li><a href="https://github.com/wjakethompson/measr/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/wjakethompson/measr/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/wjakethompson/measr" class="external-link"><img src="https://codecov.io/gh/wjakethompson/measr/branch/main/graph/badge.svg?token=JtF3xtGt6g" alt="codecov"></a></li>
<li><a href="https://app.netlify.com/sites/measr/deploys" class="external-link"><img src="https://api.netlify.com/api/v1/badges/b82caf01-0611-4f8b-bbca-5b89b5a80791/deploy-status" alt="Netlify Status"></a></li>
<li><a href="https://keybase.io/wjakethompson" class="external-link"><img src="https://img.shields.io/badge/Keybase-Verified-brightgreen.svg" alt="Signed by"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://wjakethompson.com" class="external-link">W. Jake Thompson</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
